<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="content-type">
    <title>woodentrack demo - sizes</title>
    <script src="http://d3js.org/d3.v2.js"></script>
    <script src="woodentrack.js"></script>
  </head>
  <body>
    <h1>Sizes demo</h1>
    <svg width="900" height="500"/>
    <script language="javascript">
      function drawStraight(section, size) {
        var straight=new Straight(section);
        straight.size=2*size/3;
        section.pieces.push(straight);
      }
      function drawBend(section, flip, size) {
        var bend=new Bend(section, flip);
        bend.radius=size;
        section.pieces.push(bend);
      }
      var sizes = [2, 1.5, 1, 0.5];
      var track = new Track();
      for (j=0;j<sizes.length;j++) {
        var section = track.createSection();
        section.transform = new Transform(250,250-(100*sizes[j]),0);
        drawStraight(section, sizes[j]);
        drawStraight(section, sizes[j]);
        drawBend(section, 1, sizes[j]);
        drawBend(section, 1, sizes[j]);
        drawBend(section, 1, sizes[j]);
        drawBend(section, 1, sizes[j]);
        drawStraight(section, sizes[j]);
        drawStraight(section, sizes[j]);
        drawBend(section, 1, sizes[j]);
        var junction = new Split(section, 1, "C");
        junction.radius=sizes[j];
        junction.size=2*sizes[j]/3;
        section.pieces.push(junction);
        drawBend(section, 1, sizes[j]);
        var crossover = new Crossover(section, 1, "B");
        crossover.radius=sizes[j];
        section.pieces.push(crossover);
      }
      track.draw(d3.select("svg"));
    </script>
  </body>
</html>
